(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-91619734"],{"09fa":function(t,n,e){var i=e("4588"),r=e("9def");t.exports=function(t){if(void 0===t)return 0;var n=i(t),e=r(n);if(n!==e)throw RangeError("Wrong length!");return e}},"0a49":function(t,n,e){var i=e("9b43"),r=e("626a"),a=e("4bf8"),o=e("9def"),s=e("cd1c");t.exports=function(t,n){var e=1==t,u=2==t,c=3==t,l=4==t,f=6==t,h=5==t||f,d=n||s;return function(n,s,v){for(var y,g,p=a(n),m=r(p),w=i(s,v,3),b=o(m.length),x=0,C=e?d(n,b):u?d(n,0):void 0;b>x;x++)if((h||x in m)&&(y=m[x],g=w(y,x,p),t))if(e)C[x]=g;else if(g)switch(t){case 3:return!0;case 5:return y;case 6:return x;case 2:C.push(y)}else if(l)return!1;return f?-1:c||l?l:C}}},"0f88":function(t,n,e){var i,r=e("7726"),a=e("32e9"),o=e("ca5a"),s=o("typed_array"),u=o("view"),c=!(!r.ArrayBuffer||!r.DataView),l=c,f=0,h=9,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");while(f<h)(i=r[d[f++]])?(a(i.prototype,s,!0),a(i.prototype,u,!0)):l=!1;t.exports={ABV:c,CONSTR:l,TYPED:s,VIEW:u}},1169:function(t,n,e){var i=e("2d95");t.exports=Array.isArray||function(t){return"Array"==i(t)}},"11e9":function(t,n,e){var i=e("52a7"),r=e("4630"),a=e("6821"),o=e("6a99"),s=e("69a8"),u=e("c69a"),c=Object.getOwnPropertyDescriptor;n.f=e("9e1e")?c:function(t,n){if(t=a(t),n=o(n,!0),u)try{return c(t,n)}catch(e){}if(s(t,n))return r(!i.f.call(t,n),t[n])}},"2c08":function(t,n,e){"use strict";var i=e("f255"),r=e.n(i);r.a},3066:function(t,n,e){},"34ef":function(t,n,e){e("ec30")("Uint8",1,function(t){return function(n,e,i){return t(this,n,e,i)}})},"36bd":function(t,n,e){"use strict";var i=e("4bf8"),r=e("77f1"),a=e("9def");t.exports=function(t){var n=i(this),e=a(n.length),o=arguments.length,s=r(o>1?arguments[1]:void 0,e),u=o>2?arguments[2]:void 0,c=void 0===u?e:r(u,e);while(c>s)n[s++]=t;return n}},"6efd":function(t,n,e){},9093:function(t,n,e){var i=e("ce10"),r=e("e11e").concat("length","prototype");n.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},"98bc":function(t,n,e){"use strict";var i=e("6efd"),r=e.n(i);r.a},ba92:function(t,n,e){"use strict";var i=e("4bf8"),r=e("77f1"),a=e("9def");t.exports=[].copyWithin||function(t,n){var e=i(this),o=a(e.length),s=r(t,o),u=r(n,o),c=arguments.length>2?arguments[2]:void 0,l=Math.min((void 0===c?o:r(c,o))-u,o-s),f=1;u<s&&s<u+l&&(f=-1,u+=l-1,s+=l-1);while(l-- >0)u in e?e[s]=e[u]:delete e[s],s+=f,u+=f;return e}},bd6b:function(t,n,e){"use strict";var i=e("f1b9"),r=e.n(i);r.a},c63e:function(t,n,e){"use strict";var i=e("3066"),r=e.n(i);r.a},cd1c:function(t,n,e){var i=e("e853");t.exports=function(t,n){return new(i(t))(n)}},e853:function(t,n,e){var i=e("d3f4"),r=e("1169"),a=e("2b4c")("species");t.exports=function(t){var n;return r(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!r(n.prototype)||(n=void 0),i(n)&&(n=n[a],null===n&&(n=void 0))),void 0===n?Array:n}},ec30:function(t,n,e){"use strict";if(e("9e1e")){var i=e("2d00"),r=e("7726"),a=e("79e5"),o=e("5ca1"),s=e("0f88"),u=e("ed0b"),c=e("9b43"),l=e("f605"),f=e("4630"),h=e("32e9"),d=e("dcbc"),v=e("4588"),y=e("9def"),g=e("09fa"),p=e("77f1"),m=e("6a99"),w=e("69a8"),b=e("23c6"),x=e("d3f4"),C=e("4bf8"),A=e("33a4"),S=e("2aeb"),P=e("38fd"),_=e("9093").f,E=e("27ee"),q=e("ca5a"),N=e("2b4c"),I=e("0a49"),T=e("c366"),k=e("ebd6"),O=e("cadf"),F=e("84f2"),L=e("5cc5"),R=e("7a56"),U=e("36bd"),D=e("ba92"),M=e("86cc"),j=e("11e9"),W=M.f,B=j.f,V=r.RangeError,$=r.TypeError,z=r.Uint8Array,G="ArrayBuffer",Y="Shared"+G,J="BYTES_PER_ELEMENT",Q="prototype",H=Array[Q],K=u.ArrayBuffer,X=u.DataView,Z=I(0),tt=I(2),nt=I(3),et=I(4),it=I(5),rt=I(6),at=T(!0),ot=T(!1),st=O.values,ut=O.keys,ct=O.entries,lt=H.lastIndexOf,ft=H.reduce,ht=H.reduceRight,dt=H.join,vt=H.sort,yt=H.slice,gt=H.toString,pt=H.toLocaleString,mt=N("iterator"),wt=N("toStringTag"),bt=q("typed_constructor"),xt=q("def_constructor"),Ct=s.CONSTR,At=s.TYPED,St=s.VIEW,Pt="Wrong length!",_t=I(1,function(t,n){return Tt(k(t,t[xt]),n)}),Et=a(function(){return 1===new z(new Uint16Array([1]).buffer)[0]}),qt=!!z&&!!z[Q].set&&a(function(){new z(1).set({})}),Nt=function(t,n){var e=v(t);if(e<0||e%n)throw V("Wrong offset!");return e},It=function(t){if(x(t)&&At in t)return t;throw $(t+" is not a typed array!")},Tt=function(t,n){if(!(x(t)&&bt in t))throw $("It is not a typed array constructor!");return new t(n)},kt=function(t,n){return Ot(k(t,t[xt]),n)},Ot=function(t,n){var e=0,i=n.length,r=Tt(t,i);while(i>e)r[e]=n[e++];return r},Ft=function(t,n,e){W(t,n,{get:function(){return this._d[e]}})},Lt=function(t){var n,e,i,r,a,o,s=C(t),u=arguments.length,l=u>1?arguments[1]:void 0,f=void 0!==l,h=E(s);if(void 0!=h&&!A(h)){for(o=h.call(s),i=[],n=0;!(a=o.next()).done;n++)i.push(a.value);s=i}for(f&&u>2&&(l=c(l,arguments[2],2)),n=0,e=y(s.length),r=Tt(this,e);e>n;n++)r[n]=f?l(s[n],n):s[n];return r},Rt=function(){var t=0,n=arguments.length,e=Tt(this,n);while(n>t)e[t]=arguments[t++];return e},Ut=!!z&&a(function(){pt.call(new z(1))}),Dt=function(){return pt.apply(Ut?yt.call(It(this)):It(this),arguments)},Mt={copyWithin:function(t,n){return D.call(It(this),t,n,arguments.length>2?arguments[2]:void 0)},every:function(t){return et(It(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return U.apply(It(this),arguments)},filter:function(t){return kt(this,tt(It(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return it(It(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return rt(It(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){Z(It(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return ot(It(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return at(It(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return dt.apply(It(this),arguments)},lastIndexOf:function(t){return lt.apply(It(this),arguments)},map:function(t){return _t(It(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return ft.apply(It(this),arguments)},reduceRight:function(t){return ht.apply(It(this),arguments)},reverse:function(){var t,n=this,e=It(n).length,i=Math.floor(e/2),r=0;while(r<i)t=n[r],n[r++]=n[--e],n[e]=t;return n},some:function(t){return nt(It(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return vt.call(It(this),t)},subarray:function(t,n){var e=It(this),i=e.length,r=p(t,i);return new(k(e,e[xt]))(e.buffer,e.byteOffset+r*e.BYTES_PER_ELEMENT,y((void 0===n?i:p(n,i))-r))}},jt=function(t,n){return kt(this,yt.call(It(this),t,n))},Wt=function(t){It(this);var n=Nt(arguments[1],1),e=this.length,i=C(t),r=y(i.length),a=0;if(r+n>e)throw V(Pt);while(a<r)this[n+a]=i[a++]},Bt={entries:function(){return ct.call(It(this))},keys:function(){return ut.call(It(this))},values:function(){return st.call(It(this))}},Vt=function(t,n){return x(t)&&t[At]&&"symbol"!=typeof n&&n in t&&String(+n)==String(n)},$t=function(t,n){return Vt(t,n=m(n,!0))?f(2,t[n]):B(t,n)},zt=function(t,n,e){return!(Vt(t,n=m(n,!0))&&x(e)&&w(e,"value"))||w(e,"get")||w(e,"set")||e.configurable||w(e,"writable")&&!e.writable||w(e,"enumerable")&&!e.enumerable?W(t,n,e):(t[n]=e.value,t)};Ct||(j.f=$t,M.f=zt),o(o.S+o.F*!Ct,"Object",{getOwnPropertyDescriptor:$t,defineProperty:zt}),a(function(){gt.call({})})&&(gt=pt=function(){return dt.call(this)});var Gt=d({},Mt);d(Gt,Bt),h(Gt,mt,Bt.values),d(Gt,{slice:jt,set:Wt,constructor:function(){},toString:gt,toLocaleString:Dt}),Ft(Gt,"buffer","b"),Ft(Gt,"byteOffset","o"),Ft(Gt,"byteLength","l"),Ft(Gt,"length","e"),W(Gt,wt,{get:function(){return this[At]}}),t.exports=function(t,n,e,u){u=!!u;var c=t+(u?"Clamped":"")+"Array",f="get"+t,d="set"+t,v=r[c],p=v||{},m=v&&P(v),w=!v||!s.ABV,C={},A=v&&v[Q],E=function(t,e){var i=t._d;return i.v[f](e*n+i.o,Et)},q=function(t,e,i){var r=t._d;u&&(i=(i=Math.round(i))<0?0:i>255?255:255&i),r.v[d](e*n+r.o,i,Et)},N=function(t,n){W(t,n,{get:function(){return E(this,n)},set:function(t){return q(this,n,t)},enumerable:!0})};w?(v=e(function(t,e,i,r){l(t,v,c,"_d");var a,o,s,u,f=0,d=0;if(x(e)){if(!(e instanceof K||(u=b(e))==G||u==Y))return At in e?Ot(v,e):Lt.call(v,e);a=e,d=Nt(i,n);var p=e.byteLength;if(void 0===r){if(p%n)throw V(Pt);if(o=p-d,o<0)throw V(Pt)}else if(o=y(r)*n,o+d>p)throw V(Pt);s=o/n}else s=g(e),o=s*n,a=new K(o);h(t,"_d",{b:a,o:d,l:o,e:s,v:new X(a)});while(f<s)N(t,f++)}),A=v[Q]=S(Gt),h(A,"constructor",v)):a(function(){v(1)})&&a(function(){new v(-1)})&&L(function(t){new v,new v(null),new v(1.5),new v(t)},!0)||(v=e(function(t,e,i,r){var a;return l(t,v,c),x(e)?e instanceof K||(a=b(e))==G||a==Y?void 0!==r?new p(e,Nt(i,n),r):void 0!==i?new p(e,Nt(i,n)):new p(e):At in e?Ot(v,e):Lt.call(v,e):new p(g(e))}),Z(m!==Function.prototype?_(p).concat(_(m)):_(p),function(t){t in v||h(v,t,p[t])}),v[Q]=A,i||(A.constructor=v));var I=A[mt],T=!!I&&("values"==I.name||void 0==I.name),k=Bt.values;h(v,bt,!0),h(A,At,c),h(A,St,!0),h(A,xt,v),(u?new v(1)[wt]==c:wt in A)||W(A,wt,{get:function(){return c}}),C[c]=v,o(o.G+o.W+o.F*(v!=p),C),o(o.S,c,{BYTES_PER_ELEMENT:n}),o(o.S+o.F*a(function(){p.of.call(v,1)}),c,{from:Lt,of:Rt}),J in A||h(A,J,n),o(o.P,c,Mt),R(c),o(o.P+o.F*qt,c,{set:Wt}),o(o.P+o.F*!T,c,Bt),i||A.toString==gt||(A.toString=gt),o(o.P+o.F*a(function(){new v(1).slice()}),c,{slice:jt}),o(o.P+o.F*(a(function(){return[1,2].toLocaleString()!=new v([1,2]).toLocaleString()})||!a(function(){A.toLocaleString.call([1,2])})),c,{toLocaleString:Dt}),F[c]=T?I:k,i||T||h(A,mt,k)}}else t.exports=function(){}},ed0b:function(t,n,e){"use strict";var i=e("7726"),r=e("9e1e"),a=e("2d00"),o=e("0f88"),s=e("32e9"),u=e("dcbc"),c=e("79e5"),l=e("f605"),f=e("4588"),h=e("9def"),d=e("09fa"),v=e("9093").f,y=e("86cc").f,g=e("36bd"),p=e("7f20"),m="ArrayBuffer",w="DataView",b="prototype",x="Wrong length!",C="Wrong index!",A=i[m],S=i[w],P=i.Math,_=i.RangeError,E=i.Infinity,q=A,N=P.abs,I=P.pow,T=P.floor,k=P.log,O=P.LN2,F="buffer",L="byteLength",R="byteOffset",U=r?"_b":F,D=r?"_l":L,M=r?"_o":R;function j(t,n,e){var i,r,a,o=new Array(e),s=8*e-n-1,u=(1<<s)-1,c=u>>1,l=23===n?I(2,-24)-I(2,-77):0,f=0,h=t<0||0===t&&1/t<0?1:0;for(t=N(t),t!=t||t===E?(r=t!=t?1:0,i=u):(i=T(k(t)/O),t*(a=I(2,-i))<1&&(i--,a*=2),t+=i+c>=1?l/a:l*I(2,1-c),t*a>=2&&(i++,a/=2),i+c>=u?(r=0,i=u):i+c>=1?(r=(t*a-1)*I(2,n),i+=c):(r=t*I(2,c-1)*I(2,n),i=0));n>=8;o[f++]=255&r,r/=256,n-=8);for(i=i<<n|r,s+=n;s>0;o[f++]=255&i,i/=256,s-=8);return o[--f]|=128*h,o}function W(t,n,e){var i,r=8*e-n-1,a=(1<<r)-1,o=a>>1,s=r-7,u=e-1,c=t[u--],l=127&c;for(c>>=7;s>0;l=256*l+t[u],u--,s-=8);for(i=l&(1<<-s)-1,l>>=-s,s+=n;s>0;i=256*i+t[u],u--,s-=8);if(0===l)l=1-o;else{if(l===a)return i?NaN:c?-E:E;i+=I(2,n),l-=o}return(c?-1:1)*i*I(2,l-n)}function B(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]}function V(t){return[255&t]}function $(t){return[255&t,t>>8&255]}function z(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]}function G(t){return j(t,52,8)}function Y(t){return j(t,23,4)}function J(t,n,e){y(t[b],n,{get:function(){return this[e]}})}function Q(t,n,e,i){var r=+e,a=d(r);if(a+n>t[D])throw _(C);var o=t[U]._b,s=a+t[M],u=o.slice(s,s+n);return i?u:u.reverse()}function H(t,n,e,i,r,a){var o=+e,s=d(o);if(s+n>t[D])throw _(C);for(var u=t[U]._b,c=s+t[M],l=i(+r),f=0;f<n;f++)u[c+f]=l[a?f:n-f-1]}if(o.ABV){if(!c(function(){A(1)})||!c(function(){new A(-1)})||c(function(){return new A,new A(1.5),new A(NaN),A.name!=m})){A=function(t){return l(this,A),new q(d(t))};for(var K,X=A[b]=q[b],Z=v(q),tt=0;Z.length>tt;)(K=Z[tt++])in A||s(A,K,q[K]);a||(X.constructor=A)}var nt=new S(new A(2)),et=S[b].setInt8;nt.setInt8(0,2147483648),nt.setInt8(1,2147483649),!nt.getInt8(0)&&nt.getInt8(1)||u(S[b],{setInt8:function(t,n){et.call(this,t,n<<24>>24)},setUint8:function(t,n){et.call(this,t,n<<24>>24)}},!0)}else A=function(t){l(this,A,m);var n=d(t);this._b=g.call(new Array(n),0),this[D]=n},S=function(t,n,e){l(this,S,w),l(t,A,w);var i=t[D],r=f(n);if(r<0||r>i)throw _("Wrong offset!");if(e=void 0===e?i-r:h(e),r+e>i)throw _(x);this[U]=t,this[M]=r,this[D]=e},r&&(J(A,L,"_l"),J(S,F,"_b"),J(S,L,"_l"),J(S,R,"_o")),u(S[b],{getInt8:function(t){return Q(this,1,t)[0]<<24>>24},getUint8:function(t){return Q(this,1,t)[0]},getInt16:function(t){var n=Q(this,2,t,arguments[1]);return(n[1]<<8|n[0])<<16>>16},getUint16:function(t){var n=Q(this,2,t,arguments[1]);return n[1]<<8|n[0]},getInt32:function(t){return B(Q(this,4,t,arguments[1]))},getUint32:function(t){return B(Q(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return W(Q(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return W(Q(this,8,t,arguments[1]),52,8)},setInt8:function(t,n){H(this,1,t,V,n)},setUint8:function(t,n){H(this,1,t,V,n)},setInt16:function(t,n){H(this,2,t,$,n,arguments[2])},setUint16:function(t,n){H(this,2,t,$,n,arguments[2])},setInt32:function(t,n){H(this,4,t,z,n,arguments[2])},setUint32:function(t,n){H(this,4,t,z,n,arguments[2])},setFloat32:function(t,n){H(this,4,t,Y,n,arguments[2])},setFloat64:function(t,n){H(this,8,t,G,n,arguments[2])}});p(A,m),p(S,w),s(S[b],o.VIEW,!0),n[m]=A,n[w]=S},f1b9:function(t,n,e){},f255:function(t,n,e){},f2db:function(t,n,e){"use strict";e.r(n);var i,r,a=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("demo1"),e("div",{staticStyle:{height:"20px"}}),e("demo2"),e("div",{staticStyle:{height:"20px"}}),e("demo4"),e("div",{staticStyle:{height:"20px"}}),e("demo6")],1)},o=[],s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"audio-wrapper"},[e("el-form",{attrs:{"label-width":"120px","label-position":"left"},model:{value:t.queryParams,callback:function(n){t.queryParams=n},expression:"queryParams"}},[e("el-form-item",{attrs:{label:"音量:"}},[e("el-slider",{attrs:{min:0,max:1,step:.1,"show-stops":"","show-input":""},model:{value:t.queryParams.gain,callback:function(n){t.$set(t.queryParams,"gain",n)},expression:"queryParams.gain"}})],1),e("el-form-item",{attrs:{label:"音量变化曲线:"}},[e("el-select",{attrs:{size:"small"},model:{value:t.queryParams.gainChangeType,callback:function(n){t.$set(t.queryParams,"gainChangeType",n)},expression:"queryParams.gainChangeType"}},[e("el-option",{attrs:{value:"linearRampToValueAtTime",label:"线性"}}),e("el-option",{attrs:{value:"exponentialRampToValueAtTime",label:"指数"}})],1)],1),e("el-form-item",{attrs:{label:"波形:"}},[e("el-select",{attrs:{size:"small"},model:{value:t.queryParams.waveform,callback:function(n){t.$set(t.queryParams,"waveform",n)},expression:"queryParams.waveform"}},[e("el-option",{attrs:{value:"sine",label:"sine"}}),e("el-option",{attrs:{value:"square",label:"square"}}),e("el-option",{attrs:{value:"sawtooth",label:"sawtooth"}}),e("el-option",{attrs:{value:"triangle",label:"triangle"}}),e("el-option",{attrs:{value:"custom",disabled:"",label:"custom"}})],1)],1),e("el-form-item",{attrs:{label:"频率(Hz):"}},[e("el-slider",{attrs:{min:1,max:2e3,step:10,"show-input":""},model:{value:t.queryParams.frequency,callback:function(n){t.$set(t.queryParams,"frequency",n)},expression:"queryParams.frequency"}})],1),e("el-form-item",[t.started?e("el-button",{attrs:{size:"small"},on:{click:t.onStop}},[t._v("结束")]):e("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.onStart}},[t._v("开始")])],1)],1)],1)},u=[],c=.5,l={data:function(){return{started:!1,queryParams:{gain:.5,gainChangeType:"linearRampToValueAtTime",frequency:196,waveform:"sine"}}},methods:{init:function(){this.oscillator=this.audioCtx.createOscillator(),this.gainNode=this.audioCtx.createGain()},onSet:function(){this.oscillator.type=this.queryParams.waveform,this.gainNode.gain.value=this.queryParams.gain,this.oscillator.frequency.value=this.queryParams.frequency,this.oscillator.connect(this.gainNode),this.gainNode.connect(this.audioCtx.destination)},onStart:function(){this.init(),this.onSet(),this.oscillator.start(),this.started=!0},onStop:function(){this.gainNode.gain[this.queryParams.gainChangeType](.001,this.audioCtx.currentTime+c),this.oscillator.stop(this.audioCtx.currentTime+c),this.started=!1}},mounted:function(){AudioContext||webkitAudioContext?(this.audioCtx=new(AudioContext||webkitAudioContext),this.init()):alert("您的浏览器不支持audioContext!")}},f=l,h=(e("c63e"),e("2877")),d=Object(h["a"])(f,s,u,!1,null,"ed0ef45c",null),v=d.exports,y=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"audio-wrapper"},[e("ul",{staticClass:"piano"},[t._l(t.FREQUENCY_LIST,function(n,i){return[e("li",1==i||3==i||6==i||8==i||10==i?{staticClass:"key black",on:{click:function(e){return t.onPlay(n)}}}:{staticClass:"key white",on:{click:function(e){return t.onPlay(n)}}})]})],2)])},g=[],p=.5,m={data:function(){return{FREQUENCY_LIST:[261.626,277.183,293.665,311.127,329.628,349.228,369.994,391.995,415.305,440,466.164,493.883],queryParams:{gain:.5,frequency:196,waveform:"sine"}}},methods:{init:function(){this.oscillator=this.audioCtx.createOscillator(),this.gainNode=this.audioCtx.createGain(),this.oscillator.type=this.queryParams.waveform,this.gainNode.gain.value=this.queryParams.gain,this.oscillator.connect(this.gainNode),this.gainNode.connect(this.audioCtx.destination)},onPlay:function(t){this.init(),this.oscillator.frequency.value=t,this.oscillator.start(this.audioCtx.currentTime),this.oscillator.stop(this.audioCtx.currentTime+p)}},mounted:function(){AudioContext||webkitAudioContext?(this.audioCtx=new(AudioContext||webkitAudioContext),this.init()):alert("您的浏览器不支持audioContext!")}},w=m,b=(e("2c08"),Object(h["a"])(w,y,g,!1,null,"be75c742",null)),x=b.exports,C=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"audio-wrapper"},[e("div",{ref:"analyser",staticClass:"analyser"},[e("canvas",{ref:"canvas",attrs:{width:"100%",height:"100"}})]),e("span",{staticClass:"title"},[t._v("点击说话 ")]),t.isMuted?e("el-button",{attrs:{size:"small",icon:"el-icon-phone-outline"},on:{click:t.onRestore}}):e("el-button",{attrs:{size:"small"},on:{click:t.onMute}},[t._v("静音")])],1)},A=[],S=(e("34ef"),{data:function(){return{canvas:null,canvasCtx:null,audioCtx:null,gainNode:null,analyser:null,scriptProcessor:null,canvasFillStyle:"rgb(225, 112, 85)"}},methods:{renderCanvas:function(){this.canvas=this.$refs["canvas"],this.canvasCtx=this.canvas.getContext("2d");var t=this.$refs["analyser"].offsetWidth;this.canvas.width=t,this.canvasCtx.fillStyle=this.canvasFillStyle},initAudioContext:function(){AudioContext||webkitAudioContext?this.audioCtx=new(AudioContext||webkitAudioContext):alert("您的浏览器不支持audioContext!")},initGain:function(){this.gainNode=this.audioCtx.createGain(),this.gainNode.gain.value=1,this.gainNode.connect(this.audioCtx.destination)},initAnalyser:function(){this.analyser=this.audioCtx.createAnalyser(),this.analyser.fftSize=256,this.bufferLength=this.analyser.frequencyBinCount,this.dataArray=new Uint8Array(this.bufferLength)},initScriptProcessor:function(){this.scriptProcessor=this.audioCtx.createScriptProcessor(2048,1,1),this.analyser.connect(this.scriptProcessor),this.scriptProcessor.connect(this.audioCtx.destination)},bindDrawEvent:function(){this.scriptProcessor.onaudioprocess=this.draw},draw:function(){var t,n=this.canvas.width,e=this.canvas.height,i=parseInt(.5*n/this.bufferLength),r=0;this.canvasCtx.clearRect(0,0,n,e),this.analyser.getByteFrequencyData(this.dataArray);for(var a=0;a<this.bufferLength;a++)t=parseInt(.4*this.dataArray[a]),this.canvasCtx.fillRect(r,e-t,i,t),r+=i+3},init:function(){this.renderCanvas(),this.initAudioContext(),this.initAnalyser(),this.initGain(),this.initScriptProcessor()}},mounted:function(){var t=this;this.init(),window.onresize=function(){t.renderCanvas()}}}),P=S,_=Object(h["a"])(P,i,r,!1,null,null,null),E=_.exports,q={mixins:[E],data:function(){return{isMuted:!0,canvasFillStyle:"rgb(52, 152, 219)"}},methods:{initAudioSource:function(){var t=this;navigator.mediaDevices.getUserMedia({audio:!0}).then(function(n){t.audioSource=t.audioCtx.createMediaStreamSource(n),t.audioSource.connect(t.analyser),t.audioSource.connect(t.gainNode),t.bindDrawEvent()},function(t){alert("出错，请确保已允许浏览器获取音频权限")})},onMute:function(){this.gainNode.gain.value=0,this.isMuted=!0},onRestore:function(){this.gainNode.gain.value=1,this.isMuted=!1},initGain:function(){this.gainNode=this.audioCtx.createGain(),this.gainNode.gain.value=0,this.gainNode.connect(this.audioCtx.destination)}},mounted:function(){this.init(),this.initAudioSource()}},N=q,I=(e("98bc"),Object(h["a"])(N,C,A,!1,null,"e96ea874",null)),T=I.exports,k=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"audio-wrapper"},[e("div",{ref:"analyser",staticClass:"analyser"},[e("canvas",{ref:"canvas",attrs:{width:"100%",height:"100"}})]),e("div",{staticClass:"file"},[e("input",{ref:"fileInput",attrs:{type:"file",accept:"audio/*"},on:{change:t.onProcessFile}}),t.showCancel?e("el-button",{attrs:{size:"small"},on:{click:t.onCancel}},[t._v("取消")]):t._e()],1)])},O=[],F={mixins:[E],data:function(){return{showCancel:!1,canvasFillStyle:"rgb(125, 95, 255)"}},methods:{onProcessFile:function(t){this.file=t.target.files[0];var n=URL.createObjectURL(this.file),e=new Audio;e.src=n,this.init(),e.oncanplay=this.initAudioSource(e),this.showCancel=!0},onCancel:function(){"closed"!=this.audioCtx.state&&this.audioCtx.close(),URL.revokeObjectURL(this.file),this.fileInput.value="",this.showCancel=!1},initAudioSource:function(t){this.fileInput=this.$refs["fileInput"],this.audioSource=this.audioCtx.createMediaElementSource(t),this.audioSource.connect(this.analyser),this.audioSource.connect(this.gainNode),t.play(),this.bindDrawEvent()}},mounted:function(){}},L=F,R=(e("bd6b"),Object(h["a"])(L,k,O,!1,null,"04c350dc",null)),U=R.exports,D={components:{Demo1:v,Demo2:x,Demo4:T,Demo6:U}},M=D,j=Object(h["a"])(M,a,o,!1,null,null,null);n["default"]=j.exports}}]);